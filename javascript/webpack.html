<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
      webpack | ğŸš€
    </title>
    <meta name="description" content="blog">
    <link rel="stylesheet" href="/assets/style.b5ee5f80.css">
    <link rel="modulepreload" href="/assets/Home.b4e8d866.js">
    <link rel="modulepreload" href="/assets/AlgoliaSearchBox.2d70bed9.js">
    <link rel="modulepreload" href="/assets/app.9ecb75df.js">
    <link rel="modulepreload" href="/assets/javascript_webpack.md.8d9eb319.lean.js">
    <link rel="modulepreload" href="/assets/app.9ecb75df.js">
    
    
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-6e7c0b86><div class="sidebar-button" data-v-6e7c0b86><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="ğŸš€, back to home" data-v-6e7c0b86 data-v-76c79d52><!----> ğŸš€</a><div class="flex-grow" data-v-6e7c0b86></div><div class="nav" data-v-6e7c0b86><nav class="nav-links" data-v-6e7c0b86 data-v-f465d38e><!--[--><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/java/class" data-v-99f6c566>Java <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item active" href="/javascript/webpack" data-v-99f6c566>JavaScript <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/server/shell" data-v-99f6c566>Server <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/misc/" data-v-99f6c566>Misc <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/git/" data-v-99f6c566>Git <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/algorithm/" data-v-99f6c566>Algorithm <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-58e261f2><nav class="nav-links nav" data-v-58e261f2 data-v-f465d38e><!--[--><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/java/class" data-v-99f6c566>Java <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item active" href="/javascript/webpack" data-v-99f6c566>JavaScript <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/server/shell" data-v-99f6c566>Server <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/misc/" data-v-99f6c566>Misc <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/git/" data-v-99f6c566>Git <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/algorithm/" data-v-99f6c566>Algorithm <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-58e261f2><!--[--><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item active" href="/javascript/webpack" data-v-58e261f2>Webpack</a><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#config" data-v-58e261f2>Config</a><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#mode" data-v-58e261f2>mode</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#entry" data-v-58e261f2>entry</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#output" data-v-58e261f2>output</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#loader" data-v-58e261f2>loader</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#plugins" data-v-58e261f2>plugins</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#optimization" data-v-58e261f2>optimization</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#devserver" data-v-58e261f2>devServer</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#devtool" data-v-58e261f2>devtool</a><!----></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#official-loader" data-v-58e261f2>Official Loader</a><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#style-loader" data-v-58e261f2>style-loader</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#css-loader" data-v-58e261f2>css-loader</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#postcss-loader" data-v-58e261f2>postcss-loader</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#less-loader" data-v-58e261f2>less-loader</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#url-loader" data-v-58e261f2>url-loader</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#file-loader" data-v-58e261f2>file-loader</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#eslint-loader" data-v-58e261f2>eslint-loader</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#babel-loader" data-v-58e261f2>babel-loader</a><!----></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#official-plugin" data-v-58e261f2>Official Plugin</a><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#html-webpack-plugin" data-v-58e261f2>html-webpack-plugin</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#mini-css-extract-plugin" data-v-58e261f2>mini-css-extract-plugin</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#optimize-css-assets-webpack-plugin" data-v-58e261f2>optimize-css-assets-webpack-plugin</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#workbox-webpack-plugin" data-v-58e261f2>workbox-webpack-plugin</a><!----></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#hash" data-v-58e261f2>Hash</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#tree-shaking" data-v-58e261f2>Tree Shaking</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#code-split" data-v-58e261f2>Code Split</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#optimize" data-v-58e261f2>Optimize</a><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#development" data-v-58e261f2>development</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#production" data-v-58e261f2>production</a><!----></li></ul></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/javascript/vue" data-v-58e261f2>Vue</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/javascript/vitepress" data-v-58e261f2>Vitepress</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/javascript/vite" data-v-58e261f2>vite</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/javascript/chrome" data-v-58e261f2>chrome</a><!----></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-d36a7fda><div class="container" data-v-d36a7fda><!--[--><!--]--><div class="content" data-v-d36a7fda><div data-v-d36a7fda><h3 id="getting-started"><a class="header-anchor" href="#getting-started" aria-hidden="true">#</a> Getting Started</h3><p>æ— éœ€é…ç½®ï¼Œ<code>webpack</code> èƒ½ç›´æ¥å¤„ç† js/jsonï¼Œæ”¯æŒ ES module</p><div class="language-bash"><pre><code>webpack src/entry.js -o dits/bundle.js --mode<span class="token operator">=</span>development
</code></pre></div><p><code>webpack</code> é»˜è®¤è¯»å–å·¥ä½œç›®å½•ä¸‹çš„ <code>webpack.config.js</code> æ–‡ä»¶</p><h2 id="config"><a class="header-anchor" href="#config" aria-hidden="true">#</a> Config</h2><h3 id="mode"><a class="header-anchor" href="#mode" aria-hidden="true">#</a> mode</h3><p>production æ¨¡å¼ä¸‹ä¼šè‡ªåŠ¨å‹ç¼© js ä»£ç </p><div class="language-js"><pre><code><span class="token punctuation">{</span>
  <span class="token comment">// mode: &#39;production&#39;,</span>
  mode<span class="token operator">:</span> <span class="token string">&#39;develoment&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="entry"><a class="header-anchor" href="#entry" aria-hidden="true">#</a> entry</h3><p>å•æ–‡ä»¶å…¥å£</p><div class="language-js"><pre><code><span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¤šæ–‡ä»¶å…¥å£ï¼Œå¯ç”¨äºå¤šé¡µé¢æ‰“åŒ…</p><div class="language-js"><pre><code><span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    page1<span class="token operator">:</span> <span class="token string">&#39;src/page1/index.js&#39;</span><span class="token punctuation">,</span>
    page2<span class="token operator">:</span> <span class="token string">&#39;src/page2/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="output"><a class="header-anchor" href="#output" aria-hidden="true">#</a> output</h3><div class="language-js"><pre><code><span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">&#39;js/[name].[contenthash:10].js&#39;</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="loader"><a class="header-anchor" href="#loader" aria-hidden="true">#</a> loader</h3><div class="language-js"><pre><code><span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// é…ç½®å½¢å¼ä¸€</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// é…ç½®å½¢å¼äºŒ</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpe?g|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          limit<span class="token operator">:</span> <span class="token number">4096</span><span class="token punctuation">,</span>
          outputPath<span class="token operator">:</span> <span class="token string">&#39;imgs&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">âš ï¸</p><p>å†™åœ¨åé¢çš„ loader å…ˆæ‰§è¡Œï¼Œå¹¶å°†æ‰§è¡Œç»“æœäº¤ç”±å‰ä¸€ä¸ª loader å¤„ç†</p></div><h3 id="plugins"><a class="header-anchor" href="#plugins" aria-hidden="true">#</a> plugins</h3><div class="language-js"><pre><code><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="optimization"><a class="header-anchor" href="#optimization" aria-hidden="true">#</a> optimization</h3><div class="language-js"><pre><code><span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">/**
       * å°† node_modules çš„ä»£ç æ‰“åŒ…æˆä¸€ä¸ªå•ç‹¬çš„ chunk
       * ä¼šè‡ªåŠ¨åˆ†æå¤šå…¥å£ï¼Œå¹¶æŠ½ç¦»å…¬å…±çš„ä¾èµ–
       */</span>
      chunks<span class="token operator">:</span> <span class="token string">&#39;all&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="devserver"><a class="header-anchor" href="#devserver" aria-hidden="true">#</a> devServer</h3><p>æ‰§è¡Œ <code>npx webpack-dev-server</code>ï¼Œç¼–è¯‘æ‰“åŒ…ç»“æœä¿å­˜åœ¨å†…å­˜ï¼Œä¸è¾“å‡ºæ–‡ä»¶ï¼Œwatch æ–‡ä»¶å˜åŒ–åè‡ªåŠ¨ç¼–è¯‘</p><div class="language-js"><pre><code><span class="token punctuation">{</span>
  <span class="token comment">/* æ‰“åŒ…è¾“å‡ºç›®å½• */</span>
  conentBase<span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token comment">/* å¯ç”¨ gizp */</span>
  compress<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  port<span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>

  <span class="token comment">/* åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ */</span>
  open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token comment">/* HMR */</span>
  hot<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="devtool"><a class="header-anchor" href="#devtool" aria-hidden="true">#</a> devtool</h3><div class="language-js"><pre><code><span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">&#39;source-map&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th>å–å€¼</th><th>æ•ˆæœ</th><th>source map æ–‡ä»¶</th></tr></thead><tbody><tr><td>source-map</td><td>æ‰“å°é”™è¯¯æ–‡ä»¶åå’Œè¡Œæ•°ï¼Œèƒ½è·³è½¬åˆ°æºä»£ç å‡ºé”™ä½ç½®</td><td>å®Œæ•´åˆ° sourceMap æ–‡ä»¶</td></tr><tr><td>inline-source-map</td><td>åŒä¸Š</td><td>æŠŠæ‰€æœ‰ sourceMap å†…è”åˆ° js å°¾éƒ¨ï¼Œä¼˜åŠ¿ï¼šæ„å»ºé€Ÿåº¦å¿«</td></tr><tr><td>eval-source-map</td><td>æ–‡ä»¶åé”™è¯¯ï¼Œå…¶ä»–åŒä¸Š</td><td>æ¯ä¸ª sourceMap åˆ†åˆ«å†…è”åˆ°æ¯ä¸ª eval å‡½æ•°ä¸­</td></tr><tr><td>hidden-source-map</td><td>æ‰“å°é”™è¯¯æ–‡ä»¶åï¼Œä½†è¡Œæ•°é”™è¯¯ï¼Œä¼šè·³è½¬åˆ°æ„å»ºåç å‡ºé”™ä½ç½®</td><td></td></tr><tr><td>nosource-source-map</td><td>æ‰“å°é”™è¯¯æ–‡ä»¶åå’Œè¡Œæ•°ï¼Œæ— æ³•è·³è½¬åˆ°ä»£ç å‡ºé”™ä½ç½®</td><td>æ—  sourceMap æ–‡ä»¶</td></tr><tr><td>cheap-source-map</td><td>æ‰“å°é”™è¯¯æ–‡ä»¶åå’Œè¡Œæ•°ï¼Œèƒ½è·³è½¬åˆ°æºä»£ç ä½ç½®ï¼Œä¸èƒ½ç²¾ç¡®å®šä½åˆ°é”™è¯¯æ‰€åœ¨åˆ—</td><td></td></tr><tr><td>cheap-module-source-map</td><td>åŒä¸Š</td><td>ä¼šå°† loader çš„ source map åŠ è¿›æ¥</td></tr></tbody></table><p>é€Ÿåº¦ eval &gt; inline &gt; cheap</p><p>é€Ÿåº¦ <code>eval-cheap-source-map</code> &gt; <code>eval-source-map</code></p><p>è°ƒè¯•å‹å¥½ <code>source-map</code> &gt; <code>cheap-module-source-map</code> &gt; <code>cheap-source-map</code></p><h2 id="official-loader"><a class="header-anchor" href="#official-loader" aria-hidden="true">#</a> Official Loader</h2><h3 id="style-loader"><a class="header-anchor" href="#style-loader" aria-hidden="true">#</a> style-loader</h3><h3 id="css-loader"><a class="header-anchor" href="#css-loader" aria-hidden="true">#</a> css-loader</h3><h3 id="postcss-loader"><a class="header-anchor" href="#postcss-loader" aria-hidden="true">#</a> postcss-loader</h3><div class="language-js"><pre><code><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    loader<span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">/* å›ºå®šå†™æ³• */</span>
      ident<span class="token operator">:</span> <span class="token string">&#39;postcss&#39;</span><span class="token punctuation">,</span>
      <span class="token function">plugins</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
          <span class="token comment">/**
           * è¯¥æ’ä»¶ç”¨äºè§£æ(package.json) browserslist çš„é…ç½®
           * ä»¥æ„å»ºå…¼å®¹åˆ°æŒ‡å®šæµè§ˆå™¨çš„ css
           */</span>
          <span class="token function">required</span><span class="token punctuation">(</span><span class="token string">&#39;postcss-preset-env&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>package.json</code> ä¸­çš„é…ç½®</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;development&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;last 1 chrome version&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;last 1 firefox version&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;last 1 safari version&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;production&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;&gt;2%&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;not dead&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;not op_mini all&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">âš ï¸</p><p><code>postcss-preset-env</code> ä¾èµ– <code>process.<wbr>env.NODE_ENV</code> è¯»å– <code>browserslist</code> å¯¹åº”çš„é…ç½®ï¼Œåº”ç¡®ä¿è¯¥å€¼æ­£ç¡®è®¾ç½®</p></div><h3 id="less-loader"><a class="header-anchor" href="#less-loader" aria-hidden="true">#</a> less-loader</h3><h3 id="url-loader"><a class="header-anchor" href="#url-loader" aria-hidden="true">#</a> url-loader</h3><div class="language-js"><pre><code><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpe?g|png|gif)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  loader<span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
  options<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/* è½¬ base64 çš„ä¸Šé™ */</span>
    limit<span class="token operator">:</span> <span class="token number">4096</span><span class="token punctuation">,</span>

    <span class="token comment">/* ä½¿ç”¨ es module è§£æ */</span>
    esModule<span class="token operator">:</span> <span class="token boolean">true</span>ï¼Œ

    name<span class="token operator">:</span> <span class="token string">&#39;[contenthash:10].[ext]&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="file-loader"><a class="header-anchor" href="#file-loader" aria-hidden="true">#</a> file-loader</h3><p>å’Œ <code>url-loader</code> ç±»ä¼¼ï¼Œä½†æ˜¯ä¸ä¼šè½¬ <code>base64</code></p><div class="language-js"><pre><code><span class="token punctuation">{</span>
  <span class="token comment">// test: /\.(woff)$/, å¯ä»¥ä¸æŒ‡å®š</span>
  exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(css|less|scss|js|json|jpe?g|png|gif|)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  loader<span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span>
  options<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;[contenthash:10].[ext]&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="eslint-loader"><a class="header-anchor" href="#eslint-loader" aria-hidden="true">#</a> eslint-loader</h3><p>å®‰è£… <code>eslint</code> <code>eslint-plugin-import</code></p><div class="language-js"><pre><code><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  loader<span class="token operator">:</span> <span class="token string">&#39;eslint-loader&#39;</span><span class="token punctuation">,</span>
  exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// æé«˜æ€§èƒ½</span>
  enforce<span class="token operator">:</span> <span class="token string">&#39;pre&#39;</span><span class="token punctuation">,</span> <span class="token comment">// å¿…é¡»ä¼˜å…ˆæ‰§è¡Œï¼Œæ£€æŸ¥ä¸é€šè¿‡å°±ä¸èµ°åé¢çš„ loader</span>
  options<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/* è‡ªåŠ¨ä¿®å¤é”™è¯¯ */</span>
    fix<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre></div><p>å®‰è£… <code>eslint-config-airbnb-base</code> å¹¶åœ¨ <code>package.json</code> ä¸­é…ç½®</p><div class="language-js"><pre><code><span class="token punctuation">{</span>
  <span class="token string">&quot;eslintConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token string">&quot;airbnb-base&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">ğŸ’¡</p><p>è®¾ç½® <code>env.browser</code>ï¼Œå¦åˆ™ eslint ä¼šåˆ¤å®š <code>window</code> <code>document</code> <code>navigator</code> æ˜¯æœªå£°æ˜å˜é‡</p></div><h3 id="babel-loader"><a class="header-anchor" href="#babel-loader" aria-hidden="true">#</a> babel-loader</h3><p>å®‰è£… <code>@babel/core</code> (æ ¸å¿ƒ) <code>@babel/preset-env</code>ï¼ˆè§„åˆ™é›†ï¼‰ <code>core-js</code>ï¼ˆå…¼å®¹ APIï¼‰</p><blockquote><p>As of Babel 7.4.0, <code>@babel/polyfill</code> has been deprecated in favor of directly including <code>core-js/stable</code> (to polyfill ECMAScript features) and `...</p></blockquote><div class="language-js"><pre><code><span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  loader<span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
  exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  options<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/* é¢„è®¾è§„åˆ™ */</span>
    presets<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">/* åªå¼•å…¥ä½¿ç”¨åˆ°çš„ polyfill */</span>
        useBuiltIns<span class="token operator">:</span> <span class="token string">&#39;useage&#39;</span><span class="token punctuation">,</span>

        <span class="token comment">/* æŒ‡å®šå½“å‰å®‰è£…çš„ç‰ˆæœ¬ */</span>
        corejs<span class="token operator">:</span> <span class="token punctuation">{</span> version<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

        targets<span class="token operator">:</span> <span class="token punctuation">{</span>
          chrome<span class="token operator">:</span> <span class="token string">&#39;60&#39;</span><span class="token punctuation">,</span>
          firefox<span class="token operator">:</span> <span class="token string">&#39;60&#39;</span><span class="token punctuation">,</span>
          safari<span class="token operator">:</span> <span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span>
          ie<span class="token operator">:</span> <span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span>
          edge<span class="token operator">:</span> <span class="token string">&#39;17&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/* äºŒæ¬¡æ„å»ºæ—¶ï¼Œè¯»å–ä¹‹å‰ çš„ç¼“å­˜ */</span>
    cacheDirectory<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¸¸ç”¨çš„è¡Œå†…è§„åˆ™</p><div class="language-js"><pre><code><span class="token comment">// eslint-disable-next-line</span>

<span class="token comment">/* global jQuery */</span>
</code></pre></div><h2 id="official-plugin"><a class="header-anchor" href="#official-plugin" aria-hidden="true">#</a> Official Plugin</h2><h3 id="html-webpack-plugin"><a class="header-anchor" href="#html-webpack-plugin" aria-hidden="true">#</a> html-webpack-plugin</h3><div class="language-js"><pre><code><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* æŒ‡å®š html æ¨¡ç‰ˆï¼Œä¸æŒ‡å®šä¼šè‡ªåŠ¨ç”Ÿæˆ index.html */</span>
  template<span class="token operator">:</span> <span class="token string">&#39;public/index.html&#39;</span><span class="token punctuation">,</span>

  <span class="token comment">/* å‹ç¼© */</span>
  minify<span class="token operator">:</span> <span class="token punctuation">{</span>
    collapseWhiteSpace<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    removeComments<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="mini-css-extract-plugin"><a class="header-anchor" href="#mini-css-extract-plugin" aria-hidden="true">#</a> mini-css-extract-plugin</h3><p>é…åˆå…¶å†…ç½®çš„ loader ï¼Œå¯ä»¥æå– css ä¸ºå¤–ç½®è¿æ¥å¼•å…¥</p><div class="language-js"><pre><code><span class="token comment">// è®¾ç½® css loader</span>
<span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  use<span class="token operator">:</span> <span class="token punctuation">[</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ·»åŠ  plugin</span>
<span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  filename<span class="token operator">:</span> <span class="token string">&#39;css/app.css&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="optimize-css-assets-webpack-plugin"><a class="header-anchor" href="#optimize-css-assets-webpack-plugin" aria-hidden="true">#</a> optimize-css-assets-webpack-plugin</h3><p>ç”¨äºå‹ç¼© css æ–‡ä»¶</p><div class="language-js"><pre><code><span class="token keyword">new</span> <span class="token class-name">OptimizeCssAssetsWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">ğŸ’¡</p><p>è¡Œæ–‡ä¸­çš„ <code>resolve</code> å‡½æ•°æ˜¯ <code>path.resolve</code></p></div><h3 id="workbox-webpack-plugin"><a class="header-anchor" href="#workbox-webpack-plugin" aria-hidden="true">#</a> workbox-webpack-plugin</h3><p>ä½¿ç”¨ serviceworker æ„å»º PWA æ¸è¿›å¼ç½‘ç»œå¼€å‘åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨è¯¥æ’ä»¶ç”Ÿæˆ serviceworker é…ç½®æ–‡ä»¶</p><div class="language-js"><pre><code><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">WorkboxWebpackPlugin<span class="token punctuation">.</span>GenerateSW</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">/**
       * å¸®åŠ© serviceworker å¿«é€Ÿå¯åŠ¨
       * åˆ é™¤æ—§çš„ serviceworker
       */</span>
      clientsClaim<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      skipWaiting<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨ main.js æ³¨å†Œ serviceworker</p><div class="language-js"><pre><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&#39;serviceworker&#39;</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    navigator<span class="token punctuation">.</span>serviceworker<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&#39;/service-worker&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="hash"><a class="header-anchor" href="#hash" aria-hidden="true">#</a> Hash</h2><table><thead><tr><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>hash</td><td>æ¯æ¬¡æ„å»ºéƒ½ä¼šå˜åŒ–ï¼ˆé™¤éä½ ä¸æƒ³ç¼“å­˜é™æ€èµ„æºï¼‰</td></tr><tr><td>chunkhash</td><td>æ ¹æ® chunk ç”Ÿæˆï¼Œå½“ main.js å¼•å…¥ css æ—¶ï¼Œcss å†…å®¹å˜åŒ–ï¼Œä¹Ÿä¼šå¯¼è‡´ç”Ÿæˆçš„ js æ–‡ä»¶ hash å˜åŒ–</td></tr><tr><td>contenthash</td><td>æ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿäº§ hashï¼ˆå¯é ï¼‰</td></tr></tbody></table><h2 id="tree-shaking"><a class="header-anchor" href="#tree-shaking" aria-hidden="true">#</a> Tree Shaking</h2><p>å‰æï¼š1. ä½¿ç”¨ ES module 2. mode è®¾ç½®ä¸º production</p><p><code>import &quot;./style/index.less&quot;</code> è¢« shaking æ‰äº†ï¼Ÿï¼è¦æ­£ç¡®é…ç½®é¡¹ç›® <code>package.json</code> ä¸­çš„ <code>sideEffects</code> å­—æ®µï¼Œ</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;*.css&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*.less&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="code-split"><a class="header-anchor" href="#code-split" aria-hidden="true">#</a> Code Split</h2><p>ä½¿ç”¨ <code>import()</code> è¯­æ³•ï¼Œwebpack ä¼šè‡ªåŠ¨å°†æ¨¡å—å•ç‹¬æ‰“åŒ…ï¼Œå¯ä»¥å®ç°è¿è¡Œæ—¶åŠ è½½(lazy load) å’Œ æµè§ˆå™¨ç©ºé—²æ—¶åŠ è½½(prefetch)</p><div class="language-js"><pre><code><span class="token comment">/* å¦‚æœä¸æŒ‡å®š `webpackChunkName` æ–‡ä»¶åæ˜¯æ•°å­—é€’å¢ï¼Œä¸å‹å¥½ */</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: math, webpackPrefetch: true */</span><span class="token punctuation">,</span> <span class="token string">&#39;./math&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> add <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><div class="warning custom-block"><p class="custom-block-title">âš ï¸</p><p>é¢„åŠ è½½éœ€è¦æµè§ˆå™¨æ”¯æŒï¼Œæ³¨æ„å…¼å®¹æ€§é—®é¢˜</p></div><h2 id="optimize"><a class="header-anchor" href="#optimize" aria-hidden="true">#</a> Optimize</h2><p><code>style-loader</code> <code>vue-loader</code> å†…éƒ¨å®ç°äº† <code>HMR</code>ï¼Œä½† js é»˜è®¤æ²¡æœ‰å®ç°ï¼Œä¿®æ”¹ js æ–‡ä»¶ä¼šå¯¼è‡´æ‰€ä»¥æ¨¡å—é‡æ–°ç¼–è¯‘</p><p>ç¤ºä¾‹ï¼šå½“ <code>math.js</code> å†…å®¹å˜åŒ–æ—¶ï¼Œå®ç° <code>math.js</code> çƒ­æ›´æ–°</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./math&#39;</span>

<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment">// åˆ¤æ–­æ˜¯å¦å¼€å¯äº† HMR</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">&#39;./math.js&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>loader ä½¿ç”¨ oneOf ï¼Œå‘½ä¸­ä¸€ä¸ª loader å°±ä¸èµ°å…¶ä»– loader äº†</p><div class="language-js"><pre><code><span class="token punctuation">{</span>
  rules<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">/* æœ‰ä¸¤ç§ loader å¤„ç†äº† jsæ–‡ä»¶ï¼Œè¿™é‡Œè¦æåˆ° oneOf å¤–é¢ï¼Œå¦åˆ™æœ‰ä¸€ä¸ªä¸ç”Ÿæ•ˆ  */</span>
    <span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> loader<span class="token operator">:</span> <span class="token string">&#39;eslint-loader&#39;</span><span class="token punctuation">,</span> enforce<span class="token operator">:</span> <span class="token string">&#39;pre&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      oneOf<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> loader<span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="development"><a class="header-anchor" href="#development" aria-hidden="true">#</a> development</h3><ul><li>æ‰“åŒ…é€Ÿåº¦</li></ul><p>devServer å¼€å¯ Hot Module Replace</p><ul><li>è°ƒè¯•ä½“éªŒ</li></ul><p>å…¼é¡¾ç¼–è¯‘é€Ÿåº¦å’Œè°ƒè¯•å‹å¥½ï¼Œdevtool é€‰æ‹© <code>eval-source-map</code>ï¼ˆè°ƒè¯•æ›´å¥½ï¼‰æˆ– <code>eval-cheap-module-source-map</code>ï¼ˆé€Ÿåº¦æ›´å¿«ï¼‰</p><ul><li>ç¼“å­˜</li></ul><ol><li><code>babel-loader</code> options è®¾ç½® <code>cacheDirectory: true</code></li></ol><h3 id="production"><a class="header-anchor" href="#production" aria-hidden="true">#</a> production</h3><ul><li><p>æ‰“åŒ…é€Ÿåº¦</p></li><li><p>è¿è¡Œæ—¶æ€§èƒ½</p></li><li><p>éšè—æºç </p></li></ul><p>devtool è®¾ç½®ä¸º <code>nosource-source-map</code> ã€‚åˆ‡å¿Œä½¿ç”¨ inline- ï¼Œè¿™ä¼šä½¿ä»£ç ä½“ç§¯å˜å¾—å¾ˆå¤§ï¼</p><ul><li>åŠ è½½é€Ÿåº¦</li></ul><ol><li>ä½¿ç”¨ ES module ä»¥å®ç° tree shaking</li><li>é™æ€èµ„æºè¾“å‡ºæ–‡ä»¶åä½¿ç”¨ <code>contenthash</code> åç¼€ï¼Œè§£å†³ç¼“å­˜ä¸å¤±æ•ˆé—®é¢˜</li><li>é™æ€èµ„æºé¢„å…ˆ gzipï¼ˆæœåŠ¡å™¨éœ€å¼€å¯å¯¹åº”é…ç½®ï¼‰</li><li>é…ç½® <code>optimization: { splitChunks }</code>æŠ½ç¦»å…¬å…±ä¾èµ–ä¸ºå•ç‹¬ chunk</li><li>ä½¿ç”¨ <code>import()</code> å®ç°æ‡’åŠ è½½ã€é¢„åŠ è½½</li></ol></div></div><footer class="page-footer" data-v-d36a7fda data-v-5a019cc9><div class="edit" data-v-5a019cc9><div class="edit-link" data-v-5a019cc9 data-v-fb0131f2><!----></div></div><div class="updated" data-v-5a019cc9><!----></div></footer><div class="next-and-prev-link" data-v-d36a7fda data-v-6683615c><div class="container" data-v-6683615c><div class="prev" data-v-6683615c><!----></div><div class="next" data-v-6683615c><a class="link" href="/javascript/vue" data-v-6683615c><span class="text" data-v-6683615c>Vue</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-6683615c><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"00204cbb\",\"algorithm_book-grokking-algorithms.md\":\"9086aa10\",\"algorithm_book-js-data-structure-and-algorithms.md\":\"3998186e\",\"algorithm_index.md\":\"9717ed0a\",\"git_github.md\":\"9d497ee6\",\"git_gitlab.md\":\"1c55acfe\",\"java_class.md\":\"5e247e29\",\"java_index.md\":\"594b5aca\",\"java_interface.md\":\"c2f76e2a\",\"java_thread.md\":\"c3131911\",\"javascript_npm.md\":\"003afb9a\",\"javascript_webpack.md\":\"8d9eb319\",\"protocol_book-grokking-http.md\":\"5656c2b2\",\"server_my-sql.md\":\"0788c57a\",\"server_shell.md\":\"6c7fd465\",\"misc_yml_index.md\":\"a1f5d5c1\"}")</script>
    <script type="module" async src="/assets/app.9ecb75df.js"></script>
  </body>
</html>